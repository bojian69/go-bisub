<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>{{.title}}</title>
    <link href="/admin/static/css/vendor/bootstrap.min.css" rel="stylesheet">
    <link href="/admin/static/css/responsive.css" rel="stylesheet">
    <link href="/admin/static/css/style.css" rel="stylesheet">
    <style>
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }

        .feature-card {
            transition: transform 0.3s, box-shadow 0.3s;
            height: 100%;
            border: none;
            border-radius: 12px;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .stats-box {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
        }

        .stats-box:hover {
            transform: translateY(-5px);
        }

        @media (max-width: 768px) {
            .hero-section {
                padding: 2rem 0;
            }

            .hero-section h1 {
                font-size: 1.75rem;
            }

            .hero-section .lead {
                font-size: 1rem;
            }

            .feature-icon {
                font-size: 2rem;
            }

            .stats-box {
                margin-bottom: 1rem;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/admin">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                    class="bi bi-graph-up d-inline-block align-text-top me-1" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                        d="M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61 4.15-5.073a.5.5 0 0 1 .704-.07Z" />
                </svg>
                <strong>BIè®¢é˜…ç®¡ç†ç³»ç»Ÿ</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link" href="/admin/subscriptions">è®¢é˜…ç®¡ç†</a>
                    <a class="nav-link" href="/admin/stats">ç»Ÿè®¡æŠ¥è¡¨</a>
                    <a class="nav-link" href="/health" target="_blank">ç³»ç»ŸçŠ¶æ€</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="hero-section">
        <div class="container text-center">
            <h1 class="display-4 mb-3">æ¬¢è¿ä½¿ç”¨ BI è®¢é˜…æœåŠ¡</h1>
            <p class="lead mb-4">é«˜æ•ˆç®¡ç†å’Œæ‰§è¡Œæ‚¨çš„ BI æ•°æ®è®¢é˜…ï¼Œå®æ—¶ç›‘æ§æ€§èƒ½æŒ‡æ ‡</p>
            <div class="d-flex flex-column flex-md-row justify-content-center gap-3">
                <a href="/admin/subscriptions" class="btn btn-light btn-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        class="bi bi-list-task me-2" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z" />
                        <path
                            d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z" />
                    </svg>
                    å¼€å§‹ç®¡ç†
                </a>
                <a href="/admin/stats" class="btn btn-outline-light btn-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        class="bi bi-bar-chart me-2" viewBox="0 0 16 16">
                        <path
                            d="M4 11H2v3h2v-3zm5-4H7v7h2V7zm5-5v12h-2V2h2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3z" />
                    </svg>
                    æŸ¥çœ‹ç»Ÿè®¡
                </a>
            </div>
        </div>
    </div>

    <div class="container mb-5">
        <!-- åŠŸèƒ½å¡ç‰‡ -->
        <div class="row g-4 mb-5">
            <div class="col-md-4">
                <div class="card feature-card">
                    <div class="card-body text-center">
                        <div class="feature-icon">ğŸ“Š</div>
                        <h5 class="card-title">è®¢é˜…ç®¡ç†</h5>
                        <p class="card-text">åˆ›å»ºã€ç¼–è¾‘å’Œç®¡ç† BI æ•°æ®è®¢é˜…ï¼Œæ”¯æŒç‰ˆæœ¬æ§åˆ¶å’ŒçŠ¶æ€ç®¡ç†</p>
                        <a href="/admin/subscriptions" class="btn btn-primary">è¿›å…¥ç®¡ç†</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card">
                    <div class="card-body text-center">
                        <div class="feature-icon">ğŸ“ˆ</div>
                        <h5 class="card-title">ç»Ÿè®¡æŠ¥è¡¨</h5>
                        <p class="card-text">æŸ¥çœ‹è®¢é˜…æ‰§è¡Œç»Ÿè®¡ã€æ€§èƒ½åˆ†æå’Œè°ƒç”¨è¶‹åŠ¿</p>
                        <a href="/admin/stats" class="btn btn-info">æŸ¥çœ‹ç»Ÿè®¡</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card">
                    <div class="card-body text-center">
                        <div class="feature-icon">âš¡</div>
                        <h5 class="card-title">å¿«é€Ÿæ‰§è¡Œ</h5>
                        <p class="card-text">æ”¯æŒåŠ¨æ€å‚æ•°æ›¿æ¢ï¼Œå®æ—¶æ‰§è¡Œ SQL æŸ¥è¯¢å¹¶è¿”å›ç»“æœ</p>
                        <a href="/admin/subscriptions" class="btn btn-success">ç«‹å³æ‰§è¡Œ</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ç³»ç»Ÿç‰¹æ€§ -->
        <div class="row mb-5">
            <div class="col-md-12">
                <h3 class="text-center mb-4">ç³»ç»Ÿç‰¹æ€§</h3>
            </div>
            <div class="col-md-3">
                <div class="stats-box">
                    <h4>ğŸ”’</h4>
                    <h6>å®‰å…¨è®¤è¯</h6>
                    <p class="text-muted small">JWT + åŸºç¡€è®¤è¯</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-box">
                    <h4>ğŸš€</h4>
                    <h6>é«˜æ€§èƒ½</h6>
                    <p class="text-muted small">Redis ç¼“å­˜ + é™æµ</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-box">
                    <h4>ğŸ“</h4>
                    <h6>æ“ä½œæ—¥å¿—</h6>
                    <p class="text-muted small">å®Œæ•´çš„å®¡è®¡è¿½è¸ª</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-box">
                    <h4>ğŸ”„</h4>
                    <h6>ç‰ˆæœ¬ç®¡ç†</h6>
                    <p class="text-muted small">æ”¯æŒå¤šç‰ˆæœ¬å…±å­˜</p>
                </div>
            </div>
        </div>

        <!-- API æ–‡æ¡£ -->
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">ğŸ“š API æ–‡æ¡£ä¸å¿«é€Ÿå¼€å§‹</h5>
                        <p class="card-text">ä½¿ç”¨ RESTful API é›†æˆè®¢é˜…æœåŠ¡åˆ°æ‚¨çš„åº”ç”¨ä¸­</p>

                        <!-- Tab å¯¼èˆª -->
                        <ul class="nav nav-pills mb-3" id="apiTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="endpoints-tab" data-bs-toggle="pill"
                                    data-bs-target="#endpoints" type="button">API ç«¯ç‚¹</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="auth-tab" data-bs-toggle="pill" data-bs-target="#auth"
                                    type="button">è®¤è¯æ–¹å¼</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="examples-tab" data-bs-toggle="pill"
                                    data-bs-target="#examples" type="button">cURL ç¤ºä¾‹</button>
                            </li>
                        </ul>

                        <!-- Tab å†…å®¹ -->
                        <div class="tab-content" id="apiTabContent">
                            <!-- API ç«¯ç‚¹ -->
                            <div class="tab-pane fade show active" id="endpoints" role="tabpanel">
                                <h6 class="mb-3">å¯ç”¨çš„ API ç«¯ç‚¹</h6>
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead class="table-light">
                                            <tr>
                                                <th>æ–¹æ³•</th>
                                                <th>ç«¯ç‚¹</th>
                                                <th>è¯´æ˜</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><span class="badge bg-success">GET</span></td>
                                                <td><code>/v1/subscriptions</code></td>
                                                <td>è·å–è®¢é˜…åˆ—è¡¨</td>
                                            </tr>
                                            <tr>
                                                <td><span class="badge bg-primary">POST</span></td>
                                                <td><code>/v1/subscriptions</code></td>
                                                <td>åˆ›å»ºæ–°è®¢é˜…</td>
                                            </tr>
                                            <tr>
                                                <td><span class="badge bg-success">GET</span></td>
                                                <td><code>/v1/subscriptions/:key</code></td>
                                                <td>è·å–è®¢é˜…è¯¦æƒ…</td>
                                            </tr>
                                            <tr>
                                                <td><span class="badge bg-warning">PUT</span></td>
                                                <td><code>/v1/subscriptions/:key/versions/:version</code></td>
                                                <td>æ›´æ–°è®¢é˜…</td>
                                            </tr>
                                            <tr>
                                                <td><span class="badge bg-info">PATCH</span></td>
                                                <td><code>/v1/subscriptions/:key/versions/:version/status</code></td>
                                                <td>æ›´æ–°è®¢é˜…çŠ¶æ€</td>
                                            </tr>
                                            <tr>
                                                <td><span class="badge bg-primary">POST</span></td>
                                                <td><code>/v1/subscriptions/:key/execute</code></td>
                                                <td>æ‰§è¡Œè®¢é˜…</td>
                                            </tr>
                                            <tr>
                                                <td><span class="badge bg-danger">DELETE</span></td>
                                                <td><code>/v1/subscriptions/:key/versions/:version</code></td>
                                                <td>åˆ é™¤è®¢é˜…</td>
                                            </tr>
                                            <tr>
                                                <td><span class="badge bg-success">GET</span></td>
                                                <td><code>/v1/subscriptions/stats</code></td>
                                                <td>è·å–ç»Ÿè®¡æ•°æ®</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- è®¤è¯æ–¹å¼ -->
                            <div class="tab-pane fade" id="auth" role="tabpanel">
                                <h6 class="mb-3">JWT Token è®¤è¯</h6>
                                <p class="text-muted">æ‰€æœ‰ API è¯·æ±‚éœ€è¦åœ¨ Header ä¸­æºå¸¦ JWT Tokenï¼š</p>
                                <pre
                                    class="bg-light p-3 rounded"><code>Authorization: Bearer &lt;your-token&gt;</code></pre>

                                <h6 class="mt-4 mb-3">ç”Ÿæˆ JWT Token</h6>
                                <p class="text-muted small">é€‰æ‹©æ‚¨ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼š</p>

                                <ul class="nav nav-tabs" id="tokenTabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="curl-tab" data-bs-toggle="tab"
                                            data-bs-target="#curl" type="button">cURL</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="python-tab" data-bs-toggle="tab"
                                            data-bs-target="#python" type="button">Python</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="go-tab" data-bs-toggle="tab" data-bs-target="#go"
                                            type="button">Go</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="php-tab" data-bs-toggle="tab" data-bs-target="#php"
                                            type="button">PHP</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="java-tab" data-bs-toggle="tab"
                                            data-bs-target="#java" type="button">Java</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="javascript-tab" data-bs-toggle="tab"
                                            data-bs-target="#javascript" type="button">JavaScript</button>
                                    </li>
                                </ul>

                                <div class="tab-content border border-top-0 p-3" id="tokenTabContent">
                                    <!-- cURL -->
                                    <div class="tab-pane fade show active" id="curl" role="tabpanel">
                                        <div class="position-relative">
                                            <pre class="bg-dark text-light p-3 rounded mb-0"
                                                style="font-size: 0.85rem;"><code id="tokenCurl"># ä½¿ç”¨ Python ä¸€è¡Œå‘½ä»¤ç”Ÿæˆ Token
python3 -c "import jwt, time; print(jwt.encode({'user_id': 1, 'username': 'admin', 'exp': int(time.time()) + 86400, 'iat': int(time.time())}, 'sk-mviKoV-IGNWNRxK0SX6MXyj', algorithm='HS256'))"

# æˆ–è€…ä½¿ç”¨åœ¨çº¿å·¥å…· jwt.io æ‰‹åŠ¨ç”Ÿæˆ
# Header: {"alg": "HS256", "typ": "JWT"}
# Payload: {"user_id": 1, "username": "admin", "exp": å½“å‰æ—¶é—´æˆ³+86400, "iat": å½“å‰æ—¶é—´æˆ³}
# Secret: sk-mviKoV-IGNWNRxK0SX6MXyj</code></pre>
                                            <button
                                                class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                onclick="copyToClipboard('tokenCurl', this)"
                                                style="font-size: 0.75rem;">
                                                ğŸ“‹ å¤åˆ¶
                                            </button>
                                        </div>
                                        <p class="text-muted small mt-2 mb-0">
                                            ğŸ’¡ å‰ç½®æ¡ä»¶ï¼š<code>pip install PyJWT</code> æˆ–è®¿é—® <a href="https://jwt.io"
                                                target="_blank">jwt.io</a> åœ¨çº¿ç”Ÿæˆ
                                        </p>
                                    </div>

                                    <!-- Python -->
                                    <div class="tab-pane fade" id="python" role="tabpanel">
                                        <div class="position-relative">
                                            <pre class="bg-dark text-light p-3 rounded mb-0"
                                                style="font-size: 0.85rem;"><code id="tokenPython">import jwt
import time

# JWT Secret (ä»é…ç½®æ–‡ä»¶è·å–)
secret = "sk-mviKoV-IGNWNRxK0SX6MXyj"

payload = {
    "user_id": 1,
    "username": "admin",
    "exp": int(time.time()) + 86400,  # 24å°æ—¶åè¿‡æœŸ
    "iat": int(time.time())
}

token = jwt.encode(payload, secret, algorithm="HS256")
print(token)</code></pre>
                                            <button
                                                class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                onclick="copyToClipboard('tokenPython', this)"
                                                style="font-size: 0.75rem;">
                                                ğŸ“‹ å¤åˆ¶
                                            </button>
                                        </div>
                                        <p class="text-muted small mt-2 mb-0">
                                            ğŸ’¡ å®‰è£…ä¾èµ–ï¼š<code>pip install PyJWT</code>
                                        </p>
                                    </div>

                                    <!-- Go -->
                                    <div class="tab-pane fade" id="go" role="tabpanel">
                                        <div class="position-relative">
                                            <pre class="bg-dark text-light p-3 rounded mb-0"
                                                style="font-size: 0.85rem;"><code id="tokenGo">package main

import (
    "fmt"
    "time"
    "github.com/golang-jwt/jwt/v5"
)

func main() {
    secret := "sk-mviKoV-IGNWNRxK0SX6MXyj"
    
    token := jwt.NewWithClaims(jwt.SigningMethodHS256, jwt.MapClaims{
        "user_id":  1,
        "username": "admin",
        "exp":      time.Now().Add(24 * time.Hour).Unix(),
        "iat":      time.Now().Unix(),
    })

    tokenString, err := token.SignedString([]byte(secret))
    if err != nil {
        panic(err)
    }

    fmt.Println(tokenString)
}</code></pre>
                                            <button
                                                class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                onclick="copyToClipboard('tokenGo', this)" style="font-size: 0.75rem;">
                                                ğŸ“‹ å¤åˆ¶
                                            </button>
                                        </div>
                                        <p class="text-muted small mt-2 mb-0">
                                            ğŸ’¡ å®‰è£…ä¾èµ–ï¼š<code>go get github.com/golang-jwt/jwt/v5</code>
                                        </p>
                                    </div>

                                    <!-- PHP -->
                                    <div class="tab-pane fade" id="php" role="tabpanel">
                                        <div class="position-relative">
                                            <pre class="bg-dark text-light p-3 rounded mb-0"
                                                style="font-size: 0.85rem;"><code id="tokenPHP">&lt;?php
require 'vendor/autoload.php';
use Firebase\JWT\JWT;

$secret = "sk-mviKoV-IGNWNRxK0SX6MXyj";

$payload = [
    "user_id" => 1,
    "username" => "admin",
    "exp" => time() + 86400,  // 24å°æ—¶åè¿‡æœŸ
    "iat" => time()
];

$token = JWT::encode($payload, $secret, 'HS256');
echo $token;
?&gt;</code></pre>
                                            <button
                                                class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                onclick="copyToClipboard('tokenPHP', this)" style="font-size: 0.75rem;">
                                                ğŸ“‹ å¤åˆ¶
                                            </button>
                                        </div>
                                        <p class="text-muted small mt-2 mb-0">
                                            ğŸ’¡ å®‰è£…ä¾èµ–ï¼š<code>composer require firebase/php-jwt</code>
                                        </p>
                                    </div>

                                    <!-- Java -->
                                    <div class="tab-pane fade" id="java" role="tabpanel">
                                        <div class="position-relative">
                                            <pre class="bg-dark text-light p-3 rounded mb-0"
                                                style="font-size: 0.85rem;"><code id="tokenJava">import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;
import java.util.Date;

public class JWTGenerator {
    public static void main(String[] args) {
        String secret = "sk-mviKoV-IGNWNRxK0SX6MXyj";
        
        String token = Jwts.builder()
            .claim("user_id", 1)
            .claim("username", "admin")
            .setIssuedAt(new Date())
            .setExpiration(new Date(System.currentTimeMillis() + 86400000))
            .signWith(SignatureAlgorithm.HS256, secret.getBytes())
            .compact();
        
        System.out.println(token);
    }
}</code></pre>
                                            <button
                                                class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                onclick="copyToClipboard('tokenJava', this)"
                                                style="font-size: 0.75rem;">
                                                ğŸ“‹ å¤åˆ¶
                                            </button>
                                        </div>
                                        <p class="text-muted small mt-2 mb-0">
                                            ğŸ’¡ Maven
                                            ä¾èµ–ï¼š<code>&lt;dependency&gt;io.jsonwebtoken:jjwt:0.9.1&lt;/dependency&gt;</code>
                                        </p>
                                    </div>

                                    <!-- JavaScript/Node.js -->
                                    <div class="tab-pane fade" id="javascript" role="tabpanel">
                                        <div class="position-relative">
                                            <pre class="bg-dark text-light p-3 rounded mb-0"
                                                style="font-size: 0.85rem;"><code id="tokenJS">const jwt = require('jsonwebtoken');

const secret = "sk-mviKoV-IGNWNRxK0SX6MXyj";

const payload = {
    user_id: 1,
    username: "admin",
    exp: Math.floor(Date.now() / 1000) + 86400,  // 24å°æ—¶åè¿‡æœŸ
    iat: Math.floor(Date.now() / 1000)
};

const token = jwt.sign(payload, secret, { algorithm: 'HS256' });
console.log(token);

// Vue/React ä¸­ä½¿ç”¨ (æµè§ˆå™¨ç«¯)
// import jwt from 'jsonwebtoken-esm';
// æ³¨æ„ï¼šæµè§ˆå™¨ç«¯ä¸å»ºè®®æš´éœ² secretï¼Œåº”è¯¥ç”±åç«¯ç”Ÿæˆ</code></pre>
                                            <button
                                                class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                onclick="copyToClipboard('tokenJS', this)" style="font-size: 0.75rem;">
                                                ğŸ“‹ å¤åˆ¶
                                            </button>
                                        </div>
                                        <p class="text-muted small mt-2 mb-0">
                                            ğŸ’¡ å®‰è£…ä¾èµ–ï¼š<code>npm install jsonwebtoken</code>
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <!-- cURL ç¤ºä¾‹ -->
                            <div class="tab-pane fade" id="examples" role="tabpanel">
                                <h6 class="mb-3">ğŸ“‹ cURL è¯·æ±‚ç¤ºä¾‹</h6>
                                <div class="accordion" id="curlExamples">
                                    <!-- è·å–è®¢é˜…åˆ—è¡¨ -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#curl1">
                                                1. è·å–è®¢é˜…åˆ—è¡¨
                                            </button>
                                        </h2>
                                        <div id="curl1" class="accordion-collapse collapse show"
                                            data-bs-parent="#curlExamples">
                                            <div class="accordion-body">
                                                <div class="position-relative">
                                                    <pre class="bg-dark text-light p-3 rounded"
                                                        style="margin-bottom: 0;"><code id="code1">curl 'http://localhost:8080/v1/subscriptions' \
  -H 'Authorization: Bearer YOUR_JWT_TOKEN' \
  -H 'Content-Type: application/json'</code></pre>
                                                    <button
                                                        class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                        onclick="copyToClipboard('code1', this)">
                                                        ğŸ“‹ å¤åˆ¶
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- åˆ›å»ºè®¢é˜… -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#curl2">
                                                2. åˆ›å»ºè®¢é˜…
                                            </button>
                                        </h2>
                                        <div id="curl2" class="accordion-collapse collapse"
                                            data-bs-parent="#curlExamples">
                                            <div class="accordion-body">
                                                <div class="position-relative">
                                                    <pre class="bg-dark text-light p-3 rounded"
                                                        style="margin-bottom: 0;"><code id="code2">curl -X POST 'http://localhost:8080/v1/subscriptions' \
  -H 'Authorization: Bearer YOUR_JWT_TOKEN' \
  -H 'Content-Type: application/json' \
  -d '{
    "type": "A",
    "sub_key": "example_subscription",
    "version": 1,
    "title": "ç¤ºä¾‹è®¢é˜…",
    "abstract": "è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹è®¢é˜…",
    "status": "A",
    "extra_config": {
      "sql_content": "SELECT * FROM table WHERE id = id_replace",
      "sql_replace": {
        "id_replace": "IDå‚æ•°"
      },
      "db_source": "default"
    }
  }'</code></pre>
                                                    <button
                                                        class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                        onclick="copyToClipboard('code2', this)">
                                                        ğŸ“‹ å¤åˆ¶
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- æ‰§è¡Œè®¢é˜… -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#curl3">
                                                3. æ‰§è¡Œè®¢é˜…
                                            </button>
                                        </h2>
                                        <div id="curl3" class="accordion-collapse collapse"
                                            data-bs-parent="#curlExamples">
                                            <div class="accordion-body">
                                                <div class="position-relative">
                                                    <pre class="bg-dark text-light p-3 rounded"
                                                        style="margin-bottom: 0;"><code id="code3">curl -X POST 'http://localhost:8080/v1/subscriptions/example_subscription/versions/1/execute?type=A' \
  -H 'Authorization: Bearer YOUR_JWT_TOKEN' \
  -H 'Content-Type: application/json' \
  -d '{
    "variables": {
      "id_replace": "123"
    },
    "timeout": 30000
  }'</code></pre>
                                                    <button
                                                        class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                        onclick="copyToClipboard('code3', this)">
                                                        ğŸ“‹ å¤åˆ¶
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- æ›´æ–°è®¢é˜…çŠ¶æ€ -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#curl4">
                                                4. æ›´æ–°è®¢é˜…çŠ¶æ€
                                            </button>
                                        </h2>
                                        <div id="curl4" class="accordion-collapse collapse"
                                            data-bs-parent="#curlExamples">
                                            <div class="accordion-body">
                                                <div class="position-relative">
                                                    <pre class="bg-dark text-light p-3 rounded"
                                                        style="margin-bottom: 0;"><code id="code4">curl -X PUT 'http://localhost:8080/v1/subscriptions/example_subscription/versions/1/status?type=A' \
  -H 'Authorization: Bearer YOUR_JWT_TOKEN' \
  -H 'Content-Type: application/json' \
  -d '{
    "status": "B"
  }'</code></pre>
                                                    <button
                                                        class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                        onclick="copyToClipboard('code4', this)">
                                                        ğŸ“‹ å¤åˆ¶
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- è·å–ç»Ÿè®¡æ•°æ® -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#curl5">
                                                5. è·å–ç»Ÿè®¡æ•°æ®
                                            </button>
                                        </h2>
                                        <div id="curl5" class="accordion-collapse collapse"
                                            data-bs-parent="#curlExamples">
                                            <div class="accordion-body">
                                                <div class="position-relative">
                                                    <pre class="bg-dark text-light p-3 rounded"
                                                        style="margin-bottom: 0;"><code id="code5">curl 'http://localhost:8080/v1/subscriptions/stats?start_time=2024-01-01T00:00:00Z&end_time=2024-12-31T23:59:59Z&limit=10&offset=0' \
  -H 'Authorization: Bearer YOUR_JWT_TOKEN' \
  -H 'Content-Type: application/json'</code></pre>
                                                    <button
                                                        class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
                                                        onclick="copyToClipboard('code5', this)">
                                                        ğŸ“‹ å¤åˆ¶
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="alert alert-info mt-3" role="alert">
                                    <strong>ğŸ’¡ æç¤ºï¼š</strong> è¯·å°† <code>YOUR_JWT_TOKEN</code> æ›¿æ¢ä¸ºæ‚¨çš„å®é™… JWT Tokenã€‚
                                    å¯ä»¥åœ¨"è®¤è¯æ–¹å¼"æ ‡ç­¾é¡µä¸­ç”Ÿæˆã€‚
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="bg-dark text-white text-center py-3 mt-5">
            <div class="container">
                <p class="mb-0">BI è®¢é˜…ç®¡ç†ç³»ç»Ÿ &copy; 2024 | Powered by Gin Framework</p>
            </div>
        </footer>

        <script src="/admin/static/js/vendor/bootstrap.bundle.min.js"></script>
        <script>
            function copyToClipboard(codeId, button) {
                const codeElement = document.getElementById(codeId);
                const text = codeElement.textContent;

                // ä½¿ç”¨ç°ä»£ Clipboard API
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(text).then(() => {
                        showCopySuccess(button);
                    }).catch(err => {
                        console.error('å¤åˆ¶å¤±è´¥:', err);
                        fallbackCopy(text, button);
                    });
                } else {
                    fallbackCopy(text, button);
                }
            }

            function fallbackCopy(text, button) {
                // é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨ textarea
                const textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();

                try {
                    document.execCommand('copy');
                    showCopySuccess(button);
                } catch (err) {
                    console.error('å¤åˆ¶å¤±è´¥:', err);
                    alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
                }

                document.body.removeChild(textarea);
            }

            function showCopySuccess(button) {
                const originalText = button.innerHTML;
                button.innerHTML = 'âœ… å·²å¤åˆ¶';
                button.classList.remove('btn-outline-light');
                button.classList.add('btn-success');

                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('btn-success');
                    button.classList.add('btn-outline-light');
                }, 2000);
            }
        </script>
</body>

</html>