# Docker 环境配置
# 用于 Docker Compose 部署

server:
  host: 0.0.0.0  # 监听所有网络接口
  port: 8080
  timeout: 120s
  rate_limit: 1000

database:
  primary:
    host: mysql  # Docker Compose 服务名
    port: 3306
    database: go_sub
    username: root
    password: password  # 从 .env 的 MYSQL_ROOT_PASSWORD 读取
    max_idle_conns: 10
    max_open_conns: 100
    conn_max_lifetime: 3600s
  
  data_sources:
    default:
      host: mysql  # Docker Compose 服务名
      port: 3306
      database: bi_data
      username: root
      password: password
      max_idle_conns: 10
      max_open_conns: 100
      conn_max_lifetime: 3600s
    dbcfg_adb_uhomes:
      host: mysql  # Docker Compose 服务名
      port: 3306
      database: uhomes
      username: root
      password: password
      max_idle_conns: 10
      max_open_conns: 100
      conn_max_lifetime: 3600s

redis:
  host: redis  # Docker Compose 服务名
  port: 6379
  password: ""  # 从 .env 的 REDIS_PASSWORD 读取
  db: 0

security:
  jwt_secret: "sk-mviKoV-IGNWNRxK0SX6MXyj"  # 生产环境请修改
  allowed_sql_types:
    - "SELECT"

logging:
  level: "info"  # Docker 环境使用 info 级别
  format: "json"
  file_log_enabled: true
  file_log_dir: "/app/logs"  # Docker 容器内路径
  log_request_body: false  # 生产环境关闭请求体日志
  log_response_body: false  # 生产环境关闭响应体日志
  output: "stdout"

web_ui:
  username: "admin"
  password: "admin123"  # 生产环境请修改

snowflake:
  node_id: 1
